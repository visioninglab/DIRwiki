<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>DIR Case Study Wiki</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #0065bd;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #0065bd;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #0a1628;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">DIR Case Study Wiki</p>
                        <p>Enter the password to access the DIR Case Study Wiki.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Unlock" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"48fd5f76b9c97f0b5691d53176d2a863a97c6f7165e275d97ffb6498e72c0d55ff0970a33f544cfd356667f97d56b174aea98cc5660871332937f7a6d2ac0926f95ff3901989db08111e6f51d8d1601d0d4f9f3147977743d11cac3da48517497f89d1973e5ef48cbd29e812ada9906e162119b77acd5c2d067c9ef6e178be4f96d673fad58520e6dbd0bd4f069850bd57a7b1ecfcb16ce21794261bc0458d1e1885bd1a0503bb2af96081ecc81d8a62e4c9016a18ead1ade4d3eadbbc35845a29057c4acec66cc72bc3b10446a15c55b9b76474753280e045eb48729b11ec3230fa60dfa8a53bfdfd26183b8e020020442bda91168db0a4c63cf05ec7cdd377c8190e27b7b10f5db174fbe691ff3de9fcb5270504c02babfb38f7f0ffd9e1fc4e6aaa8419044a2a6825d110b10b68ba8d5532a16229ae35c78197da1a1459dd680f48ccdda76d1d20fe8c1d58ee7b673e926fa6670e02841c54c955fa351bab4f421e40945774d7a7872348244a1b87591a37f7970813e04574a8d1cd416aa74b1db5dc7c3674ab9849818d0f482509e4cbd6379dbc2d11f9cd689d5f967787d5acfdca2aae38757e2de291c07b59bb7761ad0d1c01a5e2d2b253e71d0f561ed328435498bd3f028daadac4c54e59d071058c91ef38197f49526dfd35b7a60891dbe64d5a65a97906f1a7db3456dce57f6dd0a31fef52539cf592c63c03c9145ca804d05e2537b23823714d44405b854a40ee8637159621efbdfa2648f508d140135875bbfdef2a42e039c7f8d25a01bbca07afb1f8fec18cc759eee623ea8490f21b874db76e958c5a3230e5f81137407806259991fb66a960fb1d9c8d0fa398f38656255a2278908d9f0b35f901e950e68bd95e3c308f8aafb6cea4b49cfc2c1bbb728a1b6596dc16b70af54766b7f4420acf65bff05b2732b46bdcba7ed1f6b5419390ae14ce1b49ef0b32867c55b7c771acc4dd688b4f53cd266bd1a958b92859d065b7dba572af499295ebb8a35467fea3b700c5c2b3491bdd3542b5aa7e0a33619a23dc06162b8f325039f26218b3efe37a06adce185a8fee21d6021a07c8fe84ef5705b62b7312b00359323f3c9e145785bab7f5a1c4e3ecc6e7ddbf2da000b478fcf37c65ebd8d47e98a9b061092b28fa61bf75bd66e9a63badb4069edee7cf27ef2f557224b16c8a6e2d755ce4b5133b7d51da06f62638a23e3ca207d9bfb2f689a038897202fafbe40c43891e3d285a7796254d8d2db26a29968468d2684bd42718e5f54e7a1dd9b41e0713307741af370bd7ef8b3e2a5969ec88eb91f5a7d445844f89f8cbb2be7079b30e0a612012758b61bfb6b8451dfe24d1ba1539373c77df3f4a792e53843a8df650a9cdee35c6cf64bd3222d51207df118d26708fea6f710b5eae0edad89e76c5b260f236252508ca1a1ed149d467cf0a8e9f675c6f110391ee09e9bf1a983b538b08ceb3d7ff1b0dbe0c574a1a9dbf4e7745f1a4bf8022f48d5d447e28c775204c6fb170b490d41ffc62dbafa542fb2e793f94d7af2d1d3f0783007d890943f0b80c0b69c2efbe4bf98df6f4f0b35f42e36f267efa023fc5eeefb24e1fc402fccb41d9333a141e6881b3e0bb379bbc0cfa076ea3ae9fd8d7ed3995b320b60e20fa9af8c3b22855c7b40b06d3360f9c4dcf9b36d08deff8ae2473895e256a411ac88a8410d4fab1936b7af683e15dce97a18b9c73a97a208e6a263443ea8184db237c889ecf3c86f033bea71f062e3c402128c705c67c144867aac140cc2c35e3ea31f35984f3b0b3f10d89f7f681f3e38687710eeaa85050f66abd47d520ee1e84f394e0e8c89bfe0cac3b14c5056e495b02c3eda1ce83feabe3962b83195a99bd0bcf79013e9846d2672ffeffe4fe4c03e71dcfcfd4df06f060263b34adc50a7c54019656442cb9215c0b4ab22dd0fcc4b48824606d9e4bc6bde9fc96ac27fc457f0ad966aa0b7dba6fb86851ffb2ba1413670d201dd9bcf89eb56807cda7ce5f17343b7b4ba586164850482fa1c41e3b1f5565c3b51777a2814d276bdc9b2f96cf94866c7c2268e89e0ec13a43b74cbd75a22f658d0c491d41eec150f06f6aa6e483b982b6ccfa3e43dcde9be59e9ef7df360a232c20e7a70387fd973e60b3299ce466bcc49795329477649811c38565d83555c6fc67dbbcbd71a687bde92a9705437eeb859a98da7d513db1e5dc384388e294ab5ae94786607201eaaefbb4f777bd0aec6cf7da7442329175aef967862f7b87d307e0a7c212f1d5770b2f1bbad0880ad795273a1e566d54771c8ac4d7dd5ccae1cccc4d24cf08b3e57c3eebbb932fd89a21e058feb9e64a633c438024b1dd56c728891705d2c3f5befaf44cfe172138f146c5a6b873d60613bb70ac6a81947c695fd7550a4c521baa29aad294849aab6935910ec35ea8c9a54268f5d9efee9ace1743acb4f97773f60b4360e39df32a7a22d0e1fd027904163ef0930c41f8fa42f003b03474e9cd7c79e93a162b70d3bd6baf34deef05fcf3c9e2ace31d898dd86d576065359531c26075e3ab68f9e6c6929f42490318b28384e19879e370a293d08d353a50156d683d5f88fcdb155ba3ec3f517a96420b7e42feb286e53840bfd070bae676dd2922d8fdcc78dcfcfb9568361e1a6fc6a7419a01976ecef85c777ff936e1945a8f88a4f89b35765b9cd4d797700f9fc260a4e85e61c3668d2e301a34f1826b7feca70e93b6eba577919d37a242a623b77b5f074bd2e7bce0775283255375b3cb0536ef2156356045d0b1b10ce2bdd5313060bd1f0789c56c041d372a78f8e2e9a4eb8136b24c3332d6b9c076f119ae884a3ce59f920a576c1ba2926d1644b3658c9e624e4f545d6a61836d7d62405ef43f228435b6a485b7492e1da1657f8ed693e293395ca46defd6f43229f423901fa1c9e58b2f8907821a289b81440372300ccd3310997f10f1715ce74de151c704f2aa6622254003dd061ec8fc0cb6060d45613005939b4770411a03de4baa2b80497905ee5f6940118fe2adb487d42e0274dce7b850d5b7c9bc7625c8cbb91cf7ecd9bfcf51c8d94b23fa971786ce37da19881df1fc450d28a036a30907c550025ff1ac3c78e9d16df0c08841a3d44903d6880ce9674c3674e46a44e61f36fabecb64b1171fb9e1a5008b757b0169633e4dc809903fb8b8c840d24fbc896c4ec75e0dafdd71f031bc494ce3a399b58dbd92c9d70651a2cae384136d97ff8ab8cb4e86910f5babe5879b7f868779a6b1013438147515be37048764307c9ac2f47f5d7aaa7923b60d82fb896c8b3020b36a43aea9b76d2fdda32eb1ea4a8f26e251146560657c8a3c94b1a0b41a2c28f73f16a5619ef5f34880f93d36557c6d62dc4eef2037d9dc9220a79de7b04a1d362f94c8b08656f4917add80e58a5db2da2e6c6855284926481368a0498a5990497fcf5fbe0227330cb0de37ff0e35ca26869aa64c5a9bae195a611a83a0c584eb22334fa4f90e78a00a2a50680c941fabb04fe25eeaa9aad9a05b28cb684d39e5d19de72cafb3edb3a5fde766241c3123e6074779a414fed291b2d7d894e5219d93cb168ddcee76c213f9a0c452f65609287377c147217ca7752df49215579869f387aa958763fc0ece9567f6440ee69b4d25e3ee96ac5205855739847e5691172f89bd9a585fe5d89c4dc02c1dbe8c197e9978e1c9e38f29501358e15847e7120493184e28c059957c890e29737debaad24225618ad10e78af274c03a0967bdb39e678c6e8acb389f1a3d56a59e00af15e1eb2ea38e0acbd24794f1545e25d6a9267af960aac4ccd38a777234d7feb97b109d8494f905f8be08db1e9eef0fa804cf5a3d53d67eea8ed58929a99e707138b53610e338b380eb82beeb5a345b478a6d6c8067297dca84905e9966c0eb979711f3fc483c37616f31f186b561d7e7f05f34f3d94e24cf287516ba9ea701760278082e969742ea88097c36214607dc5af46d3a051afa6d8461da8fe1030fed16bb03f5eba3bcfabd580542f826eab8a84dab962bf43b79c84dbcafb21c46fb64b62a136cfe861d24ee358eb495262b1edc3920396b12d44fb0cc252c2a933a82b41ea6382f7cbce0357ed4af67da2e6805f4eab796a18c80ffba893543b2c17750a574d2a22de7b8c788ca5ed56fbf414cdadef911beae88eb64bd97e40b78f011378a19e5acabbee7b7ffe10317a14ea1104ca5cb69b54de7ae8ad143858273cbbeb0a09b5f5176d92fd7bfb8448dd16bb037570c20f51945cb1de4c6e7735f268fde9960ea0b4115b48920af28034401f4e3b175288f606c04bfad3209085730d2d698cc5d4e2103ea7f03f46ec7d3173e19873f2699ab09de551e61b69defe0d13b39346afe223c6f49984b66e761f3136442dd60ff02041efedab574a75e3fe2663b02574a7368594fda76c69106fe8bce5d4619ae6b7276d1021bc82375739a4ad17a0952419b1629f1103b459b7e87c9be2ec51a902201616f172ee713f8b1fc992391f62383d5c06588bf804fbda66a8f009972c0a8d151239f06302a2b5c621af0df0dc0d544cb4b28c62e739c40b7652b7cbea2150a58df0650ceb3a6599d3369dc8cf454c7cf1617a2efedccc4899d9a3eb1d36e1fb123de42ebb827349c2ce40977c726209e06d6b0395ef54e8850d96dc3db5b9e7c7cf68f33986951ac09d112acfa653fa5a229a0e7b2b99e4002be84d5b54583eca6df2edb6d6c11f4b9ab63dbaa3a474e4cf02fcd82796be5f0c9c65348e548cc8665e9b75dfd2f27cefba28e7b35d330a198f8c444d3abc980a0d0b1c17189104932e90a6a7c67d132b618283253485eac4af6997a714c4d01b5522b3f400132a6937eb74e1a4dd8bbd51729a81fa2b7cabee4a3b6568669cd0ec4f8c3eb23b92eebbbc933d9691901e750cfeb4d7909d4fbb41ac540287d58d7298fa41acc6e626358e22b8de60da00fcf9741bd0420ae2099d40582d62cbf32568f12b05c198973aac85e3463aa5b3f284815eb7dc863f041ea7d0e8759e6eec726d0c2d9a74ba8faaa209fc382bac9cf48ec681685be15785a013479b86a2d87da30ec09f2f01e491621092267fb9b0ff1ff0984014aafd053737b49597bbf836ed9ff4e56ddaa1f39d201f3a087d346b2abbfa6a28f60d8e05124e85d5a18effc4323fc96df5ed047acdc347c61fe895574b51e6236a41b21cd19f85125d3345db14cf1d8bfad1b82fffbc66924c74247ddf259e92e63d6ed7b3385017c0a7e6d675b0bf7641b78f1acaf6401c48caf1b3f2183256c15e653c76e907f590220e112f162efe0d2f1891b13ad0ac71e4a73903698ab2e113028a33ad3777611e6ca6e04244e447edda6f213a4f331832717e69eb2362682ab6598a95196a5a1e386afe7c6dd873d0a3ecb11cb3a0fcdc5e661de2227420cff2aeeaec9d489b0ae6e80bd0f99ba3e286b99f6e282b873c07900b849cd3789a2e9ad04c13cfd26649731e150d5153530d092409f31fe9c55041ad48ea32c5b04f33dc2a36c9812cda0740740be3fb4968445fd6f76e6a4fb45347f9cc181ee52ceb29516b8253c9b2e33d978b6e26386315948b1e19f625c5af5a11c86df963933bb132bdd95b9114a8c4242315ab26e1193e634fc1dcc0b2e34a10ee5c13d423da4ecb1d3e748497728a86187baca69a116565d9e020887c7fecb37f4820a37335c481ded4c44e8e46a2564a8956de338af3a8b5a6e6749468c8af29094541091923810ccb79b2cdae350e279cf499e48eb91ee1c30d9a431e33e5905c7503b4738a746e04dd15bbf8c95b401c80f990757585a82c45388103da2304fced1450070ead83ee964a6b178350a33c9cd0b90a169cb55c18baa593532e9c7c62c0c80ed664af2fa739b87770da336efaa3c5fdc2626ef4851710964ea035e331cb24c5f4ec6874be5e4c8aa2ba42339aad08c737029bf12092ec363dde23ee99f4175e3fc5d2c7271f750e62fbd260e22964f5beb1e2c585dd94513e964239f307aed4a4bbc3ecf4ec61cc055a0526d610ef5378954157b5d20d7faf5db37816436fd502b621ea787d43d0729d6cd69cf6c07ae008face366b93d62daacfaa7aaa1108f101f69bca19a67e84738536042feb74e0f0f1b23577f75fae3180c444e3f423199c635a172026c81edbd09c84408757216670a424537811b357a25ad6c7b31ebdfa0c668887cc48b6099fc472763b092ad05d1bdd927ba04641742a178be32aeac2a877e390c1c87e024195d81cf14f0c9f351df1214ca155e418ae6d837179e398ac5d1ca0df4863685d97cf47ca5f592c1aa322761805c15a848429e9b28bd5c1f846c56177669da720477261f137920a952d741d8e368bf946b732ea9277506159eed27b26c876a3845f9ae0884439fec17bb04abf55f7dfce14a00cc5a5eaccef235c690c39c382a074109a8d04ee08200c884c5aa420f22663567146c0360e3438f9a06cf1c1d6004e3e639b108495d12448dd6a6a07a4b11fefcc3c4014df0294a6c73eb2b458c4f6984d223e30127d0e6bec532de7e46ca06b9dbdab00a161801cc6b3feeb81d6a9f6d742b9c1f0e90daadd51ec21a105c0f41e5a2b324fb983718409d99ae0eb11e3a78edef4f1e098e319f976cca6f695b28e4bb530b46935eeb8ceaf1f5b87b2996e21d07339da2ce783cb9a13b4a647248960806a29b039c0d31c612a4b30f2b3663ce4fee1c0a349ee2be33fe38428450c40dfa2f45548b298d24fe0dfd12adedc4b1c60fab2a9233e8c885c4a1769fb10fecf000bc504cc9def687b58087ddbd11c60f1481d2a0594e93e1c7cf88826b3b6eb5f22ac6bd55c6ee62edbb137a9a497261291e0127a0770d6b43977d786564a6d3ed6f226ad172c7fd3d38d8542b862aa734e78e22eb649e16d0e1a8c4f3a9dd339541c05b98ab07e3d38fd76aa989dfd6fdc2fec2f55d033120982ef685f8e63a151dd5c3016c75718c9bd80fb50d45699997da7e86f442c0f58bd408673c72088361a935f4dd2d533c50e60a503b72b2fa403abc9274bf08afe4c5a8833f9ec8cbdef4b95ecf1765d05efe74862cfc793dfcf5bb12e3f190c5793ad35853edaa68b1d26b329173c0f17964fa6bb7b3a2e18a8a31797ad8f14f9e954adf3e96201e3fcb87e7b638346c2138706a18b5102df0d87daf6905699c322746715750eb6c8e94d81ca02952faa29d9ae71d507990ce1f22eace9541c0eed74ef288f4ddb8841d3b6e755bd6657c565c699d63118091d962df75bcaaa3d8b1027b7508e97fe5375c0ca5772b9915e5d0f36710e07ed347852e7b65d37f65607dcf514844994bdc1735331c8ac2df44d4d7230cba1bd4d9de2f0ef5602d7750786208fba6a7882720fad422ebb4e516562a45987463af74cd0db49f588d9ac4051ab5711c43fa9a381552b8c34244c09a568abce5215978412f25700d09f20c53050d1c0b82b5872658c91df2454e2a982958ecac79c01240d7a20c2e9c179bf051504ffef55e58e0e87b6eb9480c459416505868303d45a256a76a8439da889f82f2501952edd9d3eca490d70b0072f4ef3e2b22576ca2ac4aa165121899ae26ea9ae1c4f53f25a123e0be0586db75481c84a925fe6915cafe2b4c4ff4075a5e7f64a7cbabfe595ccb36f8f6c9906b31cae6ae69f47c68696506bf4680929bb3d76e998f9cfb0020c7f0df89ab487bf7d10768a10eb7373ad39e0f4a29364705263b33381e8902ed20a7d19e21fd9fb9e9eaa5d48cd1a6ecb057920071624ccfd6d797ed552627c807d78bfbd3ec649f249ba4f9f494364f773fa93b8778c737db02dba24d66daaf53737d10510edf01bd323165b39685ac52aad159acfd0c37c69e4fe6da4f8e6097e413a076c4eb431a5f118a799b9d9f50fb4160eb6e621f188421c85bf4fc75563bc8a424cdba6b300cad4b7c17edf1eada0419133784c4e0ff26af18dce005018e767e266cd1d0f516716e38811351d71916912d11d044e11203e4bad527af0701b213948ef7547f241c2cdbf7467b3134fce3ce3756c37345c7676186a0615a8e3de35592caeee8e9380243120fe4286c8756230d5483e81edaa6b97aa6a750382baf2e7ec7b641a38721ed9eedd8c38b7c33a079e12ac5a53e77b3b7c79c47b0882295393d7963a08cddb709cc7bb6b9001472b81598f4226decd66ca30676e37e49cdb1c4dcaa52d90b6020eb1555a552b6a63f209ecfbf99bce61c9adeb4563ec299f86aae7424430a98f714b76de51f9b8cbc60eec28b83e379ad20e809e243f62961ef7161ff7bdd40117e7a4db7caa0f06449197bc0d86b84c5b88b5b391bf32042ee8197743fd884ea79c39081e8450b028beb8e7ad6bcc97be63fe00bbcec2366fbb686b798d8a648497f3585bb56934c227e5dce162b1bd8170522c669945b7ccdb82c042f2e06c2b4a1afe8bc0ede15dededec3560072dc37fb1d466e32f2c348a9791f49aeaacb92aabd7ad4175a64e856ed755469ff894534c9bf263aea9b47e17d0b7aaa863831b172ab1e4ce45afd7bcf6f4ac7282d471a713206ca95a0ed7a45eeb82657e18b1944ff6546d21358892724429f69288c46c993717cf14e847e35bb2a3038b8c33ff3ad5d544e00962b4a69823e1ca7c49372c7c83cf0c90783b59d853d88d33b89bc185b8974a36d57620240751f98eee57a757e00a4d07961a140746c47a16c17ff23d8d2704980a0dc68d760a60874b5274fb2b1920ef4297a4119821d1094a2ed5d46791e1a6517171747793da91d6106662d95b1d0460d31596798f490c34ca8979ef59e3a3247928a66f6aec58426a6a7208659a328a5651d55a89e3f22348a13e88ec1b963ef1e837d715fd893f2492b73ec04f33be0b023999654f486eeee7a4f8cd6d86db4ea954e6d2881d5e6bc6d06370ac6cf212915b1f758e37fb9dc619bc9f7ab366b2ee9eb5f25db58d00a8b100d684e548340555e7b1e349dfb8baaaab5798fd8efc00f10d50791209304fb12c269c67cb33354905ce7be7d02541a7b8d8bcff8d31538053e5cc1662b76457c26233285c16ecf497f840e7b00d731de0d71af43294babd6af3449765787db8b73f81fa006a5d166692c7762e0efa53c4595bf74e9c220781b606969b72f809c920a4289c213a6412ef5c1c4171007c5158eb0fe11841879069e618b25fea3a41ebb014b9ed7e80a58f9f8abad986f75cf27bc86f2e27e7082c3d121cbd335a2394899a900b2a6d00ab23c85562b82c3071e9ccf43798089f30af1e225b28393b3e3fb21644db36a1167f9de57d4ead956df03c4413ac5a0a366da3daf082d135c57ad85a328487297978b91880564c149be50236a75fda85aab167f330495bd4345408c436fd34b874d4a0e55a81b48a471bfe39068e134a4b674eef21d71eea361877c50f6426c05ccdeb6a380749135ea5af885bb0c3e113c9166a290311418c0451c98c9a2cff19fcb6d2909bfe4376c8421e542caa00d5d62592639fee32a27464fb442a85af94a71205482f7efb38c84e3fb493efbab00be57383e7d295fbb35fb7b52bd65705706a407dcd84fb99991fc7a51a4515e43444c711478e722385eba10c58d1661fe67557cb4c8d80b753b6c59050e225bd86a75ba83097d00afac28997c04ff824d5f8678e7794ee34472d90f3d398e48f904ee076d80e0f5b9367ecf7bf044ab9aabd18ef53eebb777ca7d300e3f3b4e8c2c1080bea5c3d7093ebf37b0b5387e1553161d97fee3bbaaf764658589a9b54ea61e8a511305303d93aa8fc6610dc2b19275e1747cacc0706cbba2cc544890a56109b205b7d0b1ef8a823af776aa3584aa80df9f529a2c5167a4f6a3f893b78e387f007ff51317b6f52a7f01d888e191d994c566746937dbee8c6be95fef9781ec74d012bf31e729438049e840b64783830c72004fa52a93ea9e986a4ba2b7685cccd36a6b0dbc0925cfe4b662fc9d762a0951cb4e4f899d242ab6009a315649c236db5f78226c8f5c04ef065af0a20a93a556d626902fe0e484ae7a28f60a6413850ed493fd181d6e4d8cfd9fe6b9cd95713171c21e05149fbb409abd73e77d5df05e3848d96a571711c863272be3e1cd49dcede903d523d5af3195f2060ecf48dbd70aba855b56248aed0a6726a97316afe721811b89e00f1ab32f071c03c56163a77a5820f945e011303e5f171d5d38a6ceb16fd1f663fc13e16136ab5cea9b15a4a078fbc5c92a0c0e9ad67778c7800c477a978e0e6d94f5179305ccba1002c7211d3401d4d2875bc6cb893c40ff177019ea771c83446bdd7da50b10cd58a58a09dac942912dac0ab17e75bf30c6b64aca208b4840e7dba3f7ccd471fa7ac44f0bbc8bfdcf1510d11e459e2dfe4781baa57ade92f3ccd9272a9ca667cc6ff4212da8bd30960bdf23f98c9d039864f299f3c51f4ef61454d6003fba98bba1c7149060b1679cc493e855e59173fd4498ab9b5fc5219ed497afd11823fdc60898c4dee954848c5c0c1db6fe78f141c76670397f6d70fd6048a5fd605d8eb82e12af479252f8cbe0d7b433f2ec5559630205be012063b123e710169bebe914c959af3d743c7f4e45ef2831761546a9e65ca5859fe8d557ff4ee2d1962e18b23e1a18f408a629d62d291abf1405c759f86888e66037cf83c219b8bcde1084136c55b399788e4dc49a8e59ca54ff624a5f9c8d3d8e4505132003d90b8dae304b41c1d4defe77f577c38f836bad006778ce770353017c6760c48328f31ff422ea49c8873923ce7207f5cb7547cd9c2c5eb5b1c28d25dc9b3a61ecab9c69f425f5fdaf9e71de1d7e37703466196150df5d50476af6196382d3d26036585191e8bed6a1e46b50cfb8df82984ac6cf1744b2c4fe169cf2e0a3c42a7d844a39df38ae8bce7fb7c1e153fd72ec6855da52c924174cd894fb10c5316f5602f8222ef4fdab95a3d26c9064275e891a77533a03b4362887309bd1d75cfbad993692093d1fa78278cb24f9b200b4e55b7e46574b243efd30341b5a026c6948f6eaad3f17414b45e2f884e8d86df1c152ea75cfb94aab23d38399f06d4285faca6f34a5d6949c85cd5a4d26319fcab1f6cc247d4db446ea66b3a2a72dc475cc9c3ea5c46e263e18a39d2e160c7106edc2b85df8b31a052892907cb85db1b48156fa878691aeed26c1911809b81a6ef54699dde726851c48cc0095c75e7a48c28bc1f0df4bd57e4946e6790ee3c7cde60ade0a57cd4b473906821d8c084bef9a7fe883f963fb44c495c56ec13608b0ebd10c1cbca7e9eb750bed77cef5e6c744af2f5d33ddb5e8daef5f4b7cdb6bcfc0df560f3be778680d432e0d49056c1894b397a7ce7772968948aeac0416c62644bce7b002dfc0f0e9c1b430e4692daf2bcd7b4c53c0f031f6079c13f3478390d61549becc70c174d23eec804830c8d030635d96bbc1e333e60d377f888522ad01efdbdadbaaa160e10db2b75713def38c3099f79fabcf0ca3a4c07d5ab33e34b9c30f8f9789f0bf760e7d54a895d17cbeb15f95937f62fab3a64e3b32b5af8bbf4bd4c57152b38690b7e7981b2a598a1046aa5d429252f4846d32180be90cf495e6888add06e026181ca89e849e31c4306ff90ebeeadcb33f75bfb469944e3c4588d3a8feebcb569bd61b4a489155315bab2c3c85771eac5476626dbab318900e50f93836081c77e9880edd737e6cbf0837bea86f8a90a8ee76053ade11f1a457e3dd62f956fe49632e53ae62f85251f2927b2e6c249166657e54adb5bf67ccffb2ff619338744a1761cd1d7191664e38bfb99672391d63af61540d54b2f60771c9b3de76a22d2686ba14490b487916c0c93ae8ced8e68da9bc42969153643a400ddb7cba6355bde0b3c6edcf92b8bd0f8139016e940185deda3efb6d6cc04c0b18bc2354488515cbe17c39900a333b75e99720e1c6ede6c9e4a745e193388f46f0c24187518c24e2876d997a20a9f6308fabc8223bed78de194d6cadb00cce68cbfa114849fb8dd44a2696d7ef1dd62f74001653e70295131e65258eb74c914b2b9fdd21d4479a5c7283a749e7241c42be0f1056f1104228952c41b6518205015202ca4d3e0104b6ae9ce90b0c928e85ba29cb2757b92dbefc50bc1a7352d8b21ee0c7eeda55bec8365c93d92609386e3f022e83728700bee15e83f06bcf7e89948cb2a0e913e202db275ff892f0294d4cbcdbae98e5ca1b32f9bbdb80688a9b211574d6439096303393a9aec36a334b54046da9a40ab6b1c50a690d939f57ca91e9f2535324740da6071b58145a995837bc0acec2e5ca6c978398c20208307a8a6242ada40489e9ba0afe5b251064f77387d80d3f94cee9c47b139c3cd7f62a967a234221e7212edd304d6ecb78c483f56cd5572791aceca0ed458ad7f6294c271e91c55cb12f3e58aca7025c2f901e41bfc5819f99ad721f7ca1d349d29c9aaefc7453e833263553ce20e3a18a96d7a6649d80d7b08995c8e0f3f1ff8ef136d55ca0529a5db4ca0eb0286f5060c8aff9530d82c6de81d13263cb45d9f5f166989677f2a23ff9a621992ffbbd1bc2e85d7540e5426eb62e0ee3cb4baba2588f57c2b3ab38278cdb9c53752e1f395461092831d7b15b31cd4acbe63ced697b40359c7b4011469055ad45b90f40bf3e65b6f863147195425dfafe0e1b7f6d9ebd21c5e7efbde66d5850778720dcadd36fa9e7783c33752dfef0e41caa558617278b55f1e0666d8c8a17603e1a35b359c463f546730d691a291d323da031ce5815ddf287649351f5d94f0138ad3038aef8303ee6ea6e1dff518dbc917b16adac0a7aa135e16cd79db7bf211e330ecc913d010679d9cbd1a47f44ab45eb2d8bddfecb0ede28a5cf13dbcfc0f58bedb69eb87739dc7c2caeeb6220ab552734afcbe32d6e6a34a1628bd3227937965596431f4c391fb6643017b5c4c8c179f051a7f3cfb691dfee0fbb70e3f739cf70f561da819cef2197b1b94ed25382ea7d26ef5613c2d41dff956ffd8dc93beeb649121e51b8fbb52d1ab7ec22f99b0d6adce7f4de21b45c03d032d6914b9f497004a1c65964f17d5981d10051fb26bfd811fb5e3fae295aa3b52b0845ade29a5dcdf2361f3e37a1d15d94003938b0c174bd42df3e29f181013faa78622d01f261de2602ee8bbd1cb25d779d170b98dfbe5696e495cf6338e7a23911cd56a9597c29befe74d504ef6494991770dcb0d17b437497f3befd8ec5cd63247c1c85c98625f41b4d47ee30c1483a306ca229ed3e2b158030c2226973f654a42d81d2eee3e4811a5a42277c172268e48e6b78065616d3852669aa1884fd28846acad7168fee117e3d50ea553f1ce0370ee87ab01ad0fba4e3e4ae5320f3682e9d36382ff26e3cf5a3ac75af1f28acd69897c50dc578d59094965ecf34f9e93abbc010828b1fb342b3311a0b86b09b60d2c63beccf54fa4f524beb78cc0e20d709b78622fda8b1dd8610b2bf9cfa3bb0ddb59c3d46f8367445026b5289b927d46a8fc60b2d67b3ec42c440de6a097de541cdaf79d279009f4640ecaaf7449ff1d99e06a83071833dd30e363cf320484de6494eb42b61f5cf5e2ac90566a3d9fe375695387cc20a76f2fed03c548b24538065c4ab8bc74cdb66e636395df76b90c2759eb360bc5678ef8f25249d8fa88a92647295b9ef9eb34be5864096188b01ed4e3321043fcccdfaf86ce6dd3687c612c97354c5736509b97f7c87768d41d3d434fa584c6b9132748bb17eae11d1737927bbd205594e9be595c61204edb698f23cebe103e8b76978e607f31c9568c7e51db4562a7260e95c35329898e2b47ec3895030c4f162b83c257f89b2e86bd06de3cc843065088fbd2f6d53b1f0290b659dc38ff35039e36798d1601a634b1c7028037d1a7ffd549d4a955394b771f10843cf72284c460ff2695a16b6c0f520e88994d7e93a64d09a1d5a53830c7f36369445dcc1753755f5f49951b77cf43097bd134cbe79aaa138c56c203e0a2760c012e27d18c3a73ce3083d995ad4542beba0cc1c1374faa1bd5e8398b6a31ab5426ab4ba26eae794449a452421e7174382515b47e52fef9d5207cc2a8787d23fbf772f1b9bdfefe400106fa5b2bdda7694683fb673bacb011505598dde1e10cb3e6b4d424a2e8ca74d41898250c6f7ff8d5e4a378f3f9b3847ad62a9615138e0ef6c7445bd5bc2a17323c23ec37acf7311932a3a3bb73498dafdfc821f4d88018ed5df6d906b6a594e14fd55e4a225c9ba8409d9f4a594822993513d1a567914954afee9c9751cd116de02dce6a5a744781773a8868198f3d6a920c8818f115a35fbb56817abcd630da04fb5d18810d3800836206ff64e70cab15c010392d5ddd1f6d4dbb1d412c28523047a8662e76de6ce1eede36545c6dcba1e70ed0e4175fd2bdbfb54a7bffa7f8b21c7b46e22cdc07e191a69a4dfb0f8867dbdeb64583763a6d00d64319c4a4d2e9eb003bf220014fa707bad48cb12bd59e030d3405e68a8c06d9a8619d314d9c1845f4395c2adfffb67979c0b80ebd3ea735d161ef950b8e27d5bafc90353da8ff4fe5e1d8b9856a8bd4095110861e3f630251f6f515b35ef934f9090a7bb1a43873c725820adbbd3a1f4e08a737f2ac74f09e008102d46c59524c9b1e88e055e4f465281b0d359c56999199b0307433d566679f2e61ec7e44a7807c2437dd3c8e477a02fc37ab73f6c3a5605ec0e6573677820d81fd28c00f16c5d45a1764a40e9e6f8be01455dc8de490136dddc916a2ab6cea98155774ec29bb72f9049c0be42f89fb0b3526d5836f4a199d12a1ec2d2e53c04bf90a75388f0a935c0d6588dcf2a5152b26f2fac1467dd5cb53784e5f660f61eb538009b44588575f383d9707a92e5ad849ca615f349ecbfe777d81d717c19392fa246fb08c61649b64f5e2c59a5a9f56dd784b8af162db9ca1b11483d7f1f59c75d7645e91bbf9383934cf3b81538f8f9cb06248f8a7caab9194bfd7b1b6ec87fa9b5dc36f0ba12e1d3f2afbb67fe9f6cf5e824c8cf69235590f227cb57f7eac8e356d630045da48a86090c1f0116acf3459db712408d79e1d18979c8cf82f702fd922b764d1fc322c902b8c76564baed0bc59b7dac3cf4f6cd326b5a696d379565dd5bd544f4ad9d2379da9c21c7af71b70edb6c15955336c50757d65385706dfea06b1b48e8997d83123acec75dcc7e4c6b8cd9f752588414227823cf96ae3d48c950cab7177cb6060cb2b723e6f124c03fceee8244796209f8c3382d86d97fedd29f287c711feed9c8f0fbcb40f202fd62c449c34cbffcbfedfdf7024dedaf035e49c44f99d6e0cce47b747674dba42dc874bbefa586292d94d7c3ae58c587bf4a109ddafb8eb21d21b43228a89bbd02db1fab1bb0dce4c783ccbf4c9af3e4303c8a0163a81862abcf62982f071d4b316de595d10f9fbb0397004499e9b0ace44ca09c6173e5a604d0c2ded0bce9509f3a07975f90688a44c92d53691f730eb2c37cd9167c0d5625b129c6c8c1b21f5b96246001887020081cfc5a09782b40df7121aa42af22c563318c488c534ae6b1afbae77624a8dbd6ec8763d7402688b1de81f56a8a52e0a15879f8352290db2acc9967c072e8a4500f1e74b6fccb62d5750c7217a421c5f95df75139493d0d4a05672bb4798bf5fce88fdc4a3435e933d10b7e642c83c9e4378cb71e574fc26e74ab836a5e65dd4f8123a706f20e6635095608043bde912e13e437d8ca6180f67b5e7a223026f031d11117256714e350c254111f76ae2ed76ab63100dc8b320d71e762dae950fe71cab17bc438a7658ac830c7b91925918fc08ba1c2c1a646afd88b7f7217f75a5b46d8ccc6cceda1a17e05368fdba12a55e16192a9abf3301b23402188aab80efb2ad4c40ddcaa7978e922044abddb2e1ac59f69b301f099771581026ad46fb8ff3950b6daaa96d0f3cfe3c6bedb59c713d82e7578a32f1e1b5204e2b236aa0dfd6bb7d5b9e1987b233edaa8fe317031d184d00064d1d0da2fc49f2ef58091f5c28f4de82967363f399c1d6d8cb52c7ba267de0b981e2006da95be95cc067eaecb430e3324615744943b6198a2e409640ebc2fd88ab38969d14e4c01d5250e0b635d086ed9806c643b8f4da5aa9a8f3594cdc71b82b16cbe1901c082f607feaca22a90b7f9ac6c03858abe94735f57fad418ea647975ea381e6282427e61d911815f49fcf96676793c7003ecb5f9bbfaf2258255ffb056d2f9bfc1ce90a2250c0be535093e29c291c0990528cb853c4bf0be3750f62521ec30f7cc1a3fbff243f136af537f3c88454ff49e8e240e288510b2948f5a547a5a39ccb7dbb9ff874ffb4dbf751a7110eb1cf86ff6aa783b1b9e076bc1bcd5a953bbb3a5756c0dc231fd78f02128c30cc55046d5bad0245ffe33d330aafc51d8a0c9a4e3491f193c49dc97d68c75ea55a4dbe0e50fc68acf324551a72a24e008f38078df7b471ba28412d95e8c287c660f53618f966034c3cfbb66e3d94c4dc829072c9926b35684178c8a3428dfd94ab61810af053c37d09706f5273a2744cb3fcc446290a619355235f4c5ba9b8c339005cff9ea7bc6e692bf81f57a8c7e95a044731709f0e6056dea7bd67f6f0a6a3bc5c7c596947431cc4dcd48cd1a4fc95491f0425406610c04d08b2fb382a9270afaf9a6e8fc633412ec71915eac3c3f56f41867b848346d2deee7d79de6eb33606ec2bb6f943fa1c8f85a53fd374f3355941abbd4b88cf855d2899e81de8c55b88942c6dab2d9f8969cf869b72ff6759fb928b64450451a18ea10c3ead253b22ed5bb954a56a9785ef7956cb93b6560c9dd9765e595e0546c96315c1dcdaa3e2250568ceb16e33dc026b7598a4aa0ec3d0d258ca94ae09c92d37e9dd61fa3bb8e9123a194fedf67ed44471f77acc0b8bf8a5e1865f19e37f74bd179ac1df1d02cd0a5bdce883230c5f9ffcebd37d6fc3149025c32a93afcd5bffa88587b9440f1b3fe628de2efef9266fbc7b05d92c6529e11ed3ac6b4fa736a069eb50249f288b8a21851afbcf6d69bee78433431d613e3026fa0f8d1a57ac4bbd724a5cec9d2012930a844fb4772f958685e4c8ca433ac7327942094810c789092b24f197a730448672eddf83050d7e14e982288c5d4c1e9d31481d1a2985d66f9d6ecd6282e037165a855ece642b1a4aabbb9e0093648a4774aacc4671a784751e499333d17a3337450717aad9ea710da68473ddaf55458fb60e9d71d2e8391a078638a8a8182fb845e5694c53e98010c45c176ed6867d0bf1a0885b3703b5f69deaa750b1a49c5e4a0ad65c26a3765881c5adc6e9570f8456e2656e7540bd7f16ce86f6820d223a7af7ecfe05b178d65b00920e460e9e6876e0459ba1700663c23bffcb27a84295706166273b8c5f698399cebd67317b9879e3f165e3177b282a493c923f96feeb260fa33a93c17331f15f416e127c79c8c78d134773344545d50304180a9ad26560f78467e31b393cb75b90a47581b57c0ece508b51b12d06c030e856f9c1c333995c8b1442884f82735cc49cf20223e73313690c7c539bd5513a45dacd6cb94518578260c05316540614edf092dea5c2f54524e7a98e274a138d9293c2ca13bc034e7c7083e69f90d16a295adb3ceaadc61bdea35dd4b71489546b72353ac1aa2503fb7ac0c65757cbe18ee912b2a8a99a8b0417cc0a6d11f127432c3e4a8374cc4bf0595febb09492e2cb9817405a1ffb1c4551cbad102c6d7a5c013f18671bfd9d65b1340d16e037fb3ad6b0d21472ea946d5adcf1aa3b459eb421b860b4d9a1a803ecb1122ad80f11e981a614db9ef56ba14c21ea63a72dc30d405e3aac21b87f16e9e6a533a0c5e891a1320f57755b2e","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"304c15eb4b64e188ac1b4d9ea9ebc412"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
